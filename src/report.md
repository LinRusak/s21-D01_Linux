## Part 1. Установка ОС


##### Установи **Ubuntu 20.04 Server LTS** без графического интерфейса. (Используем программу для виртуализации - VirtualBox)

- Графический интерфейс должен отсутствовать.
- Узнай версию Ubuntu, выполнив команду 
`cat /etc/issue.`
- Вставь скриншот с выводом команды.  
<img src = "./Part 1/Part1.png">  

## Part 2. Создание пользователя

##### Создай пользователя, отличного от созданного при установке. Пользователь должен быть добавлен в группу `adm`.
- Вставь скриншот вызова команды для создания пользователя.  
<img src = "./Part 2/Part2-1.png">  

- Добавление в группу ADM
<img src = "./Part 2/Part2-3.png">  

- Новый пользователь должен быть в выводе команды \
`cat /etc/passwd`  Вставь скриншот с выводом команды.  
<img src = "./Part 2/Part2-2.png">  

## Part 3. Настройка сети ОС


##### Задай название машины вида user-1.
<img src = "./Part 3/Part3-1.png">  

##### Установи временную зону, соответствующую твоему текущему местоположению. 
<img src = "./Part 3/Part3-2.png">  

##### Выведи названия сетевых интерфейсов с помощью консольной команды.
<img src = "./Part 3/Part3-3.png">  

- В отчёте дай объяснение наличию интерфейса lo.  

lo (loopback device) – виртуальный интерфейс, присутствующий по умолчанию в любом Linux. Он используется для отладки сетевых программ и запуска серверных приложений на локальной машине. С этим интерфейсом всегда связан адрес 127.0.0.1. У него есть dns-имя – localhost. Посмотреть привязку можно в файле /etc/hosts.

##### Используя консольную команду, получи ip адрес устройства, на котором ты работаешь, от DHCP сервера. 
<img src = "./Part 3/Part3-4.png">  

- В отчёте дай расшифровку DHCP.  

Dynamic Host Configuration Protocol (DHCP) — автоматический предоставляет IP адреса и прочие настройки сети (маску сети, шлюз и т.п) компьютерам и различным устройствам в сети.
Клиент настроенный на получение адреса по протоколу DHCP посылает запрос к серверу, и тот в свою очередь предоставляет свободный IP адрес клиенту во временное пользование — так сказать в аренду. Срок аренды IP адреса настраивается на сервере. DHCP позволяет значительно уменьшить затраченное время на настройку сети, так же позволяет подключать клиента из одной сети в другую без изменения сетевых параметров. Для провайдеров услуг — DHCP позволяет съэкономить на пуле IP адресов, и присвоить статический IP любому оборудованию.

##### Определи и выведи на экран внешний ip-адрес шлюза (ip) и внутренний IP-адрес шлюза, он же ip-адрес по умолчанию (gw). 
<img src = "./Part 3/Part3-5.png">  

##### Задай статичные (заданные вручную, а не полученные от DHCP сервера) настройки ip, gw, dns (используй публичный DNS серверы, например 1.1.1.1 или 8.8.8.8).  

<img src = "./Part 3/Part3-6.png">  

##### Перезагрузи виртуальную машину. Убедись, что статичные сетевые настройки (ip, gw, dns) соответствуют заданным в предыдущем пункте.  

<img src = "./Part 3/Part3-6.png">  

- В отчёте опиши, что сделал для выполнения всех семи пунктов (можно как текстом, так и скриншотами).
- Успешно пропингуй удаленные хосты 1.1.1.1 и ya.ru и вставь в отчёт скрин с выводом команды. В выводе команды должна быть фраза «0% packet loss».

## Part 4. Обновление ОС
##### Обнови системные пакеты до последней на момент выполнения задания версии.  

- После обновления системных пакетов, если ввести команду обновления повторно, должно появиться сообщение, что обновления отсутствуют;
- Вставь скриншот с этим сообщением в отчёт.
<img src = "./Part 4/Part4.png">  

## Part 5. Использование команды **sudo**
##### Разреши пользователю, созданному в [Part 2](#part-2-создание-пользователя),выполнять команду sudo.
<img src = "./Part 5/Part5-1.png">  

- В отчёте объясни *истинное* назначение команды sudo (про то, что это слово - «волшебное», писать не стоит);  

##### sudo -это утилита, она позволяет временно поднимать привилегии и выполнять задачи администрирования системы
- Поменяй hostname ОС от имени пользователя, созданного в пункте [Part 2](#part-2-создание-пользователя) (используя sudo);
<img src = "./Part 5/Part5-2.png">  

## Part 6. Установка и настройка службы времени
##### Настрой службу автоматической синхронизации времени.  

- Выведи время часового пояса, в котором ты сейчас находишься.
<img src = "./Part 6/Part6-1.png">  

- Вывод следующей команды должен содержать `NTPSynchronized=yes`: \
  `timedatectl show`
  <img src = "./Part 6/Part6-2.png">  

## Part 7. Установка и использование текстовых редакторов  
##### Установи текстовые редакторы **VIM** (+ любые два по желанию **NANO**, **MCEDIT**, **JOE** и т.д.)  
  <img src = "./Part 7/Part7-1.png">  

##### Используя каждый из трех выбранных редакторов, создай файл *test_X.txt*, где X -- название редактора, в котором создан файл. Напиши в нём свой никнейм, закрой файл с сохранением изменений. 
- В отчёт вставь скриншоты:  
  - Из каждого редактора с содержимым файла перед закрытием;  

  VIM  
  <img src = "./Part 7/Part7-2.png">  

  NANO  
  <img src = "./Part 7/Part7-3.png">  

  mcedit  
  <img src = "./Part 7/Part7-4.png">  

- В отчёте укажи, что сделал для выхода с сохранением изменений.  

  vim выход: esc + :wq  

  nano выход: ctrl+X + y + enter  

  mcedit выход: F2 + F10  

##### Используя каждый из трех выбранных редакторов, открой файл на редактирование, отредактируй файл, заменив никнейм на строку «21 School 21», закрой файл без сохранения изменений.  
- В отчёт вставь скриншоты:  Из каждого редактора с содержимым файла после редактирования;  

  <img src = "./Part 7/Part7-5.png">  

  <img src = "./Part 7/Part7-6.png">  

  <img src = "./Part 7/Part7-7.png">  

- В отчёте укажи, что сделал для выхода без сохранения изменений.  

  vim выход :q!  

  nano выход: ctrl + x + n  

  mcedit выход: F10  

##### Используя каждый из трех выбранных редакторов, отредактируй файл ещё раз (по аналогии с предыдущим пунктом), а затем освой функции поиска по содержимому файла (слово) и замены слова на любое другое.  

- В отчёт вставь скриншоты:  
    - Из каждого редактора с результатами поиска слова;
    - Из каждого редактора с командами, введёнными для замены слова на другое.

  vim поиск "/"  

  <img src = "./Part 7/Part7-8.png">  

  vim замена ":s/старое слово/новое слово/g"  

  <img src = "./Part 7/Part7-9.png">  

  nano поиск - ctrl w  

  <img src = "./Part 7/Part7-10.png">  

  nano замена - Ctrl + W для перехода к панели поиска, далее Ctrl + R

  <img src = "./Part 7/Part7-11.png"> 

  nano Далее вводим слово на что хотим заменить, enter + Y

  <img src = "./Part 7/Part7-12.png"> 

  mcedit поиск -f7, вводим запрос, и нажимаем find all

  <img src = "./Part 7/Part7-13.png"> 

  <img src = "./Part 7/Part7-14.png"> 

  замена - F4  

  <img src = "./Part 7/Part7-15.png"> 

  ok

  <img src = "./Part 7/Part7-16.png"> 

  replace

  <img src = "./Part 7/Part7-17.png"> 

## Part 8. Установка и базовая настройка сервиса **SSHD**
##### Установи службу SSHd.  

обновление  

<img src = "./Part 8/Part8-1.png">  

установка  

<img src = "./Part 8/Part8-2.png">  

установление OpenSSH  

<img src = "./Part 8/Part8-3.png">  

##### Добавь автостарт службы при загрузке системы.  

<img src = "./Part 8/Part8-4.png">  

статус ssh  

<img src = "./Part 8/Part8-5.png">  

##### Перенастрой службу SSHd на порт 2022.  

<img src = "./Part 8/Part8-6.png">  

##### Используя команду ps, покажи наличие процесса sshd. Для этого к команде нужно подобрать ключи.  

<img src = "./Part 8/Part8-7.png">  

- В отчёте объясни значение команды и каждого ключа в ней.  

-tan:  

t-по протоколу TCP  

a-Отображение всех подключений и ожидающих портов.  

n- Отображение адресов и номеров портов в числовом формате.  

Cтолбцы:  

Recv-Q -количество запросов в очередях на приём на данном узле/компьютере  

Send-Q -количество запросов в очередях на отправку на данном узле/компьютере  

Local Address - адрес и номер локального конца сокета  

Foreign Address - адрес и номер порта удаленного порта сокета  

State - состояние сокета  

Если в качестве адреса отображается 0.0.0.0 , то это означает - "любой адрес", т. е в соединении могут использоваться все IP-адреса существующие на данном компьютере.  

<img src = "./Part 8/Part8-8.png">  

ps -aux | grep sshd output:  

ps-выводит список текущих процессов на вашем сервере в виде таблицы  

a-выбрать все процессы, кроме фоновых;  

u-выбрать процессы пользователя.  

x-заставляет ps перечислить все процессы, принадлежащие вам  

##### Перезагрузи систему.
- В отчёте опиши, что сделал для выполнения всех пяти пунктов (можно как текстом, так и скриншотами).
- Вывод команды netstat -tan должен содержать  \
`tcp 0 0 0.0.0.0:2022 0.0.0.0:* LISTEN`  \
(если команды netstat нет, то ее нужно установить)
<img src = "./Part 8/Part8-7.png">  
- Скрин с выводом команды вставь в отчёт.
- В отчёте объясни значение ключей -tan, значение каждого столбца вывода, значение 0.0.0.0.

## Part 9. Установка и использование утилит **top**, **htop**
##### Установи и запусти утилиты top и htop.  

  <img src = "./Part 9/Part9-1.png">  
  
  - По выводу команды top определи и напиши в отчёте:  
    - uptime 

  <img src = "./Part 9/Part9-2.png">  

  - количество авторизованных пользователей  

  <img src = "./Part 9/Part9-3.png">  

  - общую загрузку системы  

  <img src = "./Part 9/Part9-4.png">  

  - общее количество процессов  

  <img src = "./Part 9/Part9-5.png">  

  - загрузку cpu  

  <img src = "./Part 9/Part9-6.png">  

  - загрузку памяти  

  <img src = "./Part 9/Part9-7.png">  

  - pid процесса занимающего больше всего памяти  

  <img src = "./Part 9/Part9-8.png">  

  - pid процесса, занимающего больше всего процессорного времени  

  <img src = "./Part 9/Part9-9.png">  

- В отчёт вставь скрин с выводом команды htop:  

  <img src = "./Part 9/Part9-10.png">  

  - отсортированному по PID  

  <img src = "./Part 9/Part9-11-1.png">  

  - отсортированному по PERCENT_CPU  

  <img src = "./Part 9/Part9-11-2.png">  

  - отсортированному по PERCENT_MEM  

  <img src = "./Part 9/Part9-11-3.png">  

  - отсортированному по TIME  

  <img src = "./Part 9/Part9-11-4.png">  

  - отфильтрованному для процесса sshd  

  <img src = "./Part 9/Part9-12.png">  

  - с процессом syslog, найденным, используя поиск   

  <img src = "./Part 9/Part9-13.png">  

  - с добавленным выводом hostname, clock и uptime   

  <img src = "./Part 9/Part9-14.png">  


## Part 10. Использование утилиты **fdisk**
##### Запусти команду fdisk -l.  

  <img src = "./Part 10/Part10-1.png">  

- В отчёте напиши название жесткого диска    

  <img src = "./Part 10/Part10-2.png">  

- В отчёте напиши размер  

  <img src = "./Part 10/Part10-3.png">  

- В отчёте напиши количество секторов  

  <img src = "./Part 10/Part10-4.png">  

- В отчёте напиши размер swap: 2.0 Gi  

  <img src = "./Part 10/Part10-5.png">  


## Part 11. Использование утилиты **df** 
##### Запусти команду df.  
- В отчёте напиши для корневого раздела (/):  
    <img src = "./Part 11/Part11-1.png">  
  - размер раздела: 1055762868  
  - размер занятого пространства: 4696628  
  - размер свободного пространства: 997362768 
  - процент использования: 1%  
- Определи и напиши в отчёт единицу измерения в выводе: килобайты 

##### Запусти команду df -Th.
- В отчёте напиши для корневого раздела (/):
    <img src = "./Part 11/Part11-2.png">  
    - размер раздела: 1007 Gb  
    - размер занятого пространства: 4.5 Gb  
    - размер свободного пространства: 952 Gb  
    - процент использования: 1%  
- Определи и напиши в отчёт тип файловой системы для раздела: ext4  

## Part 12. Использование утилиты **du**
##### Запусти команду du  
##### Выведи размер папок /home, /var, /var/log (в байтах, в человекочитаемом виде)  

  <img src = "./Part 12/Part12-1.png">  

##### Выведи размер всего содержимого в /var/log (не общее, а каждого вложенного элемента, используя *)  

  <img src = "./Part 12/Part12-2.png">  

  <img src = "./Part 12/Part12-3.png">  

- В отчёт вставь скрины с выводом всех использованных команд.

## Part 13. Установка и использование утилиты **ncdu**
##### Установи утилиту ncdu  

  <img src = "./Part 13/Part13-1.png">  

##### Выведи размер папок /home, /var, /var/log  

  ncdu /home  

  <img src = "./Part 13/Part13-2.png">  

  ncdu /var

  <img src = "./Part 13/Part13-3.png">  

  ncdu /var/log

  <img src = "./Part 13/Part13-4.png">  

- Размеры должны примерно совпадать с полученными в [Part 12](#part-12-использование-утилиты-du).

- В отчёт вставь скрины с выводом использованных команд.

## Part 14. Работа с системными журналами
##### Открой для просмотра:
##### 1. /var/log/dmesg  

  <img src = "./Part 14/Part14-1.png">  

##### 2. /var/log/syslog  

  <img src = "./Part 14/Part14-2.png">  

##### 3. /var/log/auth.log  

  <img src = "./Part 14/Part14-3.png">  

- Напиши в отчёте время последней успешной авторизации, имя пользователя и метод входа в систему: Mar  7 13:25:39,  User-PC,  systemd  
- Перезапусти службу SSHd:  

  <img src = "./Part 14/Part14-4.png"> 

- Вставь в отчёт скрин с сообщением о рестарте службы (искать в логах).

## Part 15. Использование планировщика заданий **CRON**
##### Используя планировщик заданий, запусти команду uptime через каждые 2 минуты.  

  <img src = "./Part 15/Part15-1.png"> 

- Найди в системных журналах строчки (минимум две в заданном временном диапазоне) о выполнении;  

  <img src = "./Part 15/Part15-2.png">  

- Выведи на экран список текущих заданий для CRON;  

  <img src = "./Part 15/Part15-3.png">  

##### Удали все задания из планировщика заданий.
- В отчёт вставь скрин со списком текущих заданий для CRON.  

  <img src = "./Part 15/Part15-4.png">  

